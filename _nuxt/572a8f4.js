(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{442:function(t,e,n){var content=n(443);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(20).default)("dc0628f2",content,!0,{sourceMap:!1})},443:function(t,e,n){(e=n(19)(!1)).push([t.i,".v-tooltip{display:none}.v-tooltip--attached{display:inline}.v-tooltip__content{background:rgba(97,97,97,.9);color:#fff;border-radius:4px;font-size:14px;line-height:22px;display:inline-block;padding:5px 16px;position:absolute;text-transform:none;width:auto;opacity:1;pointer-events:none}.v-tooltip__content--fixed{position:fixed}.v-tooltip__content[class*=-active]{transition-timing-function:cubic-bezier(0,0,.2,1)}.v-tooltip__content[class*=enter-active]{transition-duration:.15s}.v-tooltip__content[class*=leave-active]{transition-duration:75ms}",""]),t.exports=e},634:function(t,e,n){"use strict";n(22);var o=n(2),r=(n(442),n(128)),c=n(27),l=n(151),h=n(136),d=n(214),v=n(192),f=n(50),m=n(0),_=n(6),y=n(5);e.a=Object(y.a)(c.a,l.a,h.a,d.a,v.a,f.a).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,content=t.content,n=!(this.bottom||this.left||this.top||this.right),o=!1!==this.attach?e.offsetLeft:e.left,r=0;return this.top||this.bottom||n?r=o+e.width/2-content.width/2:(this.left||this.right)&&(r=o+(this.right?e.width:-content.width)+(this.right?10:-10)),this.nudgeLeft&&(r-=parseInt(this.nudgeLeft)),this.nudgeRight&&(r+=parseInt(this.nudgeRight)),"".concat(this.calcXOverflow(r,this.dimensions.content.width),"px")},calculatedTop:function(){var t=this.dimensions,e=t.activator,content=t.content,n=!1!==this.attach?e.offsetTop:e.top,o=0;return this.top||this.bottom?o=n+(this.bottom?e.height:-content.height)+(this.bottom?10:-10):(this.left||this.right)&&(o=n+e.height/2-content.height/2),this.nudgeTop&&(o-=parseInt(this.nudgeTop)),this.nudgeBottom&&(o+=parseInt(this.nudgeBottom)),"".concat(this.calcYOverflow(o+this.pageYOffset),"px")},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition:function(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(m.g)(this.maxWidth),minWidth:Object(m.g)(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var t=this;this.$nextTick((function(){t.value&&t.callActivate()}))},mounted:function(){"v-slot"===Object(m.s)(this,"activator",!0)&&Object(_.b)("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate:function(){this.runDelay("close")},genActivatorListeners:function(){var t=this,e=r.a.options.methods.genActivatorListeners.call(this);return e.focus=function(e){t.getActivator(e),t.runDelay("open")},e.blur=function(e){t.getActivator(e),t.runDelay("close")},e.keydown=function(e){e.keyCode===m.w.esc&&(t.getActivator(e),t.runDelay("close"))},e},genTransition:function(){var content=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[content]):content},genContent:function(){var t;return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(t={},Object(o.a)(t,this.contentClass,!0),Object(o.a)(t,"menuable__content__active",this.isActive),Object(o.a)(t,"v-tooltip__content--fixed",this.activatorFixed),t),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render:function(t){var e=this;return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent((function(){return[e.genTransition()]})),this.genActivator()])}})},667:function(t,e,n){"use strict";n.r(e);n(51),n(32),n(48),n(53),n(47);var o=n(17),r=(n(52),n(15)),c=n(77),l=n.n(c),h={asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload,t.context,r=t.app,!n){e.next=5;break}return e.abrupt("return",n);case 5:return e.delegateYield(regeneratorRuntime.mark((function t(){var e,n,data,c,h,i,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.context.route.params.id,t.next=3,l.a.get("https://static.toyobunko-lab.jp/app-suikeichuuzu/data/curation.json");case 3:n=t.sent,data=n.data,c=data.selections,h=function(i){for(var t=c[i],n=t.within["@id"],o=t.members,r={},l=function(t){var c=o[t];c.metadata.map((function(t){"ID"==t.label&&t.value==e&&(c.manifest=n,r=c)}))},h=0;h<o.length;h++)l(h);return{v:{v:r}}},i=0;case 8:if(!(i<c.length)){t.next=15;break}if(d=h(i),"object"!==Object(o.a)(d)){t.next=12;break}return t.abrupt("return",d.v);case 12:i++,t.next=8;break;case 15:case"end":return t.stop()}}),t)}))(),"t0",6);case 6:if(c=e.t0,"object"!==Object(o.a)(c)){e.next=9;break}return e.abrupt("return",c.v);case 9:case"end":return e.stop()}}),e)})))()},data:function(){return{baseUrl:"https://static.toyobunko-lab.jp/app-suikeichuuzu",fields:["冊","図","区画南北","区画東西","表裏","詳細区画","墨朱","図記号","図説明","水名","水経注：巻"]}},computed:{url:function(){return this.baseUrl+"/item/"+this.$route.params.id},id:function(){return this.$route.params.id},title:function(){var t=this.metadata,title=this.label;return t.map((function(t){"地名/記述"==t.label&&(title=t.value)})),title}},methods:{getIframeUrl:function(){return this.baseUrl+"/curation/?manifest="+this.manifest+"&canvas="+encodeURIComponent(this["@id"])},getCurationUrl:function(){var t=this["@id"].split("#xywh="),e=t[0],n=t[1];return"http://codh.rois.ac.jp/software/iiif-curation-viewer/demo/?manifest="+this.manifest+"&canvas="+encodeURIComponent(e)+"&xywh="+n+"&xywh_highlight=border"},getParam:function(label,t){var param={};return param["fc-"+label]=t,param},toArray:function(t){return Array.isArray(t)?t:[t]}},head:function(){var title=this.title;return{title:title,meta:[{hid:"og:title",property:"og:title",content:title},{hid:"og:type",property:"og:type",content:"article"},{hid:"og:url",property:"og:url",content:this.url},{hid:"og:image",property:"og:image",content:this.thumbnail},{hid:"twitter:card",name:"twitter:card",content:"summary_large_image"}]}}},d=n(80),v=n(92),f=n.n(v),m=n(213),_=n(422),y=n(193),x=n(634),component=Object(d.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-container",{staticClass:"py-5"},[n("iframe",{attrs:{src:t.getIframeUrl(),width:"100%",height:"400",allowfullscreen:"",frameborder:"0"}})]),t._v(" "),n("v-container",[n("p",{staticClass:"text-center"},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("v-btn",t._g({staticClass:"mx-1",attrs:{icon:"",target:"_blank",href:t.getCurationUrl()}},o),[n("img",{attrs:{src:t.baseUrl+"/img/icons/icp-logo.svg",width:"30px"}})])]}}])},[t._v(" "),n("span",[t._v(t._s("IIIF Curation Viewer"))])]),t._v(" "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("v-btn",t._g({staticClass:"mx-1",attrs:{icon:"",target:"_blank",href:"https://twitter.com/intent/tweet?url="+t.url}},o),[n("v-icon",[t._v("mdi-twitter")])],1)]}}])},[t._v(" "),n("span",[t._v(t._s("Twitter"))])]),t._v(" "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("v-btn",t._g({staticClass:"mx-1",attrs:{icon:"",target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u="+t.url}},o),[n("v-icon",[t._v("mdi-facebook")])],1)]}}])},[t._v(" "),n("span",[t._v(t._s("Facebook"))])]),t._v(" "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("v-btn",t._g({staticClass:"mx-1",attrs:{icon:"",target:"_blank",href:"http://getpocket.com/edit?url="+t.url}},o),[n("img",{staticStyle:{"font-size":"30px"},attrs:{src:"https://cultural.jp/img/icons/pocket.svg"}})])]}}])},[t._v(" "),n("span",[t._v(t._s("Pocket"))])])],1),t._v(" "),n("dl",{staticClass:"row"},[n("dt",{staticClass:"col-sm-3 text-muted"},[n("b",[t._v("URL")])]),t._v(" "),n("dd",{staticClass:"col-sm-9"},[n("a",{attrs:{href:t.url}},[t._v(t._s(t.url))])])]),t._v(" "),n("dl",{staticClass:"row"},[n("dt",{staticClass:"col-sm-3 text-muted"},[n("b",[t._v(t._s(t.$t("label")))])]),t._v(" "),n("dd",{staticClass:"col-sm-9"},[t._v("\n        "+t._s(t.title)+"\n      ")])]),t._v(" "),t._l(t.metadata,(function(e,o){return n("dl",{key:o,staticClass:"row"},[t.fields.includes(e.label)?[n("dt",{staticClass:"col-sm-3 text-muted"},[n("b",[t._v(t._s(t.$t(e.label)))])]),t._v(" "),n("dd",{staticClass:"col-sm-9"},t._l(t.toArray(e.value),(function(o,r){return n("nuxt-link",{key:r,attrs:{to:t.localePath({name:"search",query:t.getParam(e.label,o)})}},[t._v("\n            "+t._s(o)+"\n          ")])})),1)]:t._e()],2)})),t._v(" "),t.doc?n("dl",{staticClass:"row"},[n("dt",{staticClass:"col-sm-3 text-muted"},[n("b",[t._v(t._s(t.$t("水経注図")))])]),t._v(" "),n("dd",{staticClass:"col-sm-9"},[n("a",{attrs:{href:t.doc}},[t._v(t._s(t.doc))])])]):t._e(),t._v(" "),n("dl",{staticClass:"row"},[n("dt",{staticClass:"col-sm-3 text-muted"},[n("b",[t._v(t._s(t.$t("license")))])]),t._v(" "),n("dd",{staticClass:"col-sm-9"},["ja"==t.$i18n.locale?[n("a",{attrs:{rel:"license",href:"http://creativecommons.org/licenses/by/4.0/"}},[n("img",{staticStyle:{"border-width":"0"},attrs:{alt:"クリエイティブ・コモンズ・ライセンス",src:"https://i.creativecommons.org/l/by/4.0/88x31.png"}})]),n("br"),t._v("この作品は"),n("a",{attrs:{rel:"license",href:"http://creativecommons.org/licenses/by/4.0/"}},[t._v("クリエイティブ・コモンズ 表示 4.0 国際 ライセンス")]),t._v("の下に提供されています。\n        ")]:[n("a",{attrs:{rel:"license",href:"http://creativecommons.org/licenses/by/4.0/"}},[n("img",{staticStyle:{"border-width":"0"},attrs:{alt:"Creative Commons License",src:"https://i.creativecommons.org/l/by/4.0/88x31.png"}})]),n("br"),t._v("This work is licensed under a\n          "),n("a",{attrs:{rel:"license",href:"http://creativecommons.org/licenses/by/4.0/"}},[t._v("Creative Commons Attribution 4.0 International License")]),t._v(".\n        ")]],2)])],2)],1)}),[],!1,null,null,null);e.default=component.exports;f()(component,{VBtn:m.a,VContainer:_.a,VIcon:y.a,VTooltip:x.a})}}]);